(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2142,718,9008],{77179:function(e,t,n){var r=n(18361);e.exports=function(e){return r(e,5)}},90718:function(e,t,n){"use strict";n.r(t),n.d(t,{UploadStarterAnimation:function(){return k},default:function(){return C}});var r,o=n(55312),i=n(89303),a=n(24642),s=n.n(a),c=n(26766),l=n(46717),u=n(29901),d=n(24161),f=n(389),p=n(80972),v=n(74536),m=n(26729);!function(e){e.ANIKIHAMSTER="aniki-hamster",e.LOTTIELEGO="lottie-lego",e.POLITECHICKY="polite-chicky"}(r||(r={}));var x=n(91705),h=n(51638),y=n(30945),j=n(92971),b=n(61250),w=(0,l.zo)("div",{background:"#00C1A2",display:"flex",width:"162px",height:"162px",justifyContent:"center",alignItems:"center",marginBottom:"8px",cursor:"pointer"}),g=(0,l.zo)("div",{background:"#ffffff",display:"flex",width:"162px",height:"162px",justifyContent:"center",alignItems:"center",marginBottom:"8px",cursor:"pointer",boxShadow:"0px 8px 48px 0px rgba(243, 246, 248, 0.15), 0px 2px 6px 0px rgba(61, 72, 83, 0.06), 0px 0px 1px 0px rgba(61, 72, 83, 0.36);"}),k=function(e){var t=e.projectId,n=(0,x.X)(),a=(0,d.useSetRecoilState)(j._b),l=(0,f.Db)(y.H4),k=(0,i.Z)(l,2)[1],C=(0,u.useState)(!1),O=C[0],S=C[1],E=(0,h.cF)(),I=E.activeWorkspace,N=E.activeWorkspaceId,P=function(e){(0,c.Z9)(new c.Rd("button",e))},L=(0,u.useCallback)(function(){var e=(0,o.Z)(s().mark((function e(n){var r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=15;break}return S(!0),e.prev=2,r={workspaceId:N,file:n,projectId:t},e.next=6,k({input:r});case 6:if(!(o=e.sent).error){e.next=9;break}throw new Error(o.error.message);case 9:o.data&&(window.location.href="/animation/".concat(o.data.initialAnimationUpload)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),S(!1);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),[N,O,t,k]),A=(0,u.useCallback)((function(){P("create an animation"),window.open("".concat("https://creator.lottiefiles.com","/new?workspace=").concat(null==I?void 0:I.id),"_blank")}),[I]);return(0,b.jsx)("div",{className:"w-full px-6 py-8 rounded-lg",style:{background:"#EAEFF2"},children:(0,b.jsxs)("div",{className:"flex flex-col w-full overflow-x-auto",children:[(0,b.jsxs)("h1",{className:"mb-8 text-lg text-center text-gray-900 font-lf-bold",children:[!n&&"Get started by uploading or opening an animation",n&&"Get started by creating, uploading or opening an animation"]}),(0,b.jsxs)("div",{className:"relative flex mx-auto space-x-3 text-center",children:[O&&(0,b.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-lg opacity-50 bg-gray-50",children:(0,b.jsx)(m.a,{type:"spinner"})}),n&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(w,{className:"rounded-lg",onClick:A,children:(0,b.jsx)(v.J,{name:"plus",color:"text-white",large:!0})}),(0,b.jsx)("div",{className:"text-sm text-gray-900 font-lf-bold",children:"Create an animation"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"with Lottie Creator"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(w,{className:"rounded-lg",onClick:function(){a(!0),P("Open upload modal")},children:(0,b.jsx)(v.J,{name:"upload",color:"text-white",large:!0})}),(0,b.jsx)("div",{className:"text-sm text-gray-900 font-lf-bold",children:"Upload an animation"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Lottie JSON / dotLottie"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(g,{className:"rounded-lg ",onClick:function(){L(r.LOTTIELEGO)},children:(0,b.jsx)(p.J5,{src:"/lotties/sample-animations/lottie-lego.json",hover:!0})}),(0,b.jsx)("div",{className:"text-sm text-center text-gray-900",children:"Lottie lego"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(g,{className:"rounded-lg",onClick:function(){L(r.POLITECHICKY)},children:(0,b.jsx)(p.J5,{src:"/lotties/sample-animations/polite-chicky.json",hover:!0})}),(0,b.jsx)("div",{className:"text-sm text-center text-gray-900",children:"Polite chicky"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(g,{className:"rounded-lg",onClick:function(){L(r.ANIKIHAMSTER)},children:(0,b.jsx)(p.J5,{src:"/lotties/sample-animations/aniki-hamster.json",hover:!0})}),(0,b.jsx)("div",{className:"text-sm text-center text-gray-900",children:"Aniki hamster"})]})]})]})})},C=k},97452:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});n(29901);var r=n(24161),o=n(95610),i=n(26729),a=n(61250),s=function(e){var t=e.children,n=e.contentWrapperCssClasses,s=void 0===n?"flex-grow overflow-hidden":n,c=e.headerControl,l=e.headerWrapperCssClasses,u=void 0===l?"bg-white h-16 flex items-center px-6 border-b border-gray-100 flex-shrink-0":l,d=(0,r.useRecoilValue)(o.qx);return(0,a.jsxs)("div",{"data-onboarding-watch":"create_menu_new_button",className:"absolute inset-0 flex flex-col w-full overflow-y-auto",children:[c&&(0,a.jsx)("div",{className:u,children:c}),d?(0,a.jsx)(i.a,{size:"lg"}):(0,a.jsx)("div",{className:s,children:t})]})}},80972:function(e,t,n){"use strict";n.d(t,{J5:function(){return x}});var r=n(77916),o=n(55312),i=n(51848),a=n(24642),s=n.n(a),c=n(46450),l=n(32147),u=n(29901),d=n(26729),f=n(61250),p=["isDotLottie","maxHeight","playerRef","src"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.isDotLottie,n=e.maxHeight,r=void 0===n||n,a=e.playerRef,v=e.src,x=(0,i.Z)(e,p),h=(0,u.useState)(),y=h[0],j=h[1],b=(0,u.useMemo)((function(){if(t)return!0;if("string"==typeof v){var e,n,r=null!==(e=v.split("/").pop())&&void 0!==e?e:v;return"lottie"===(null!==(n=r.split("?")[0])&&void 0!==n?n:r).split(".").pop()}return!1}),[v,t]);return(0,u.useEffect)((function(){if(b)return function(){};if("string"==typeof v){var e=!0,t=function(){var t=(0,o.Z)(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(v);case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,e&&j(r);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}return j(v),function(){}}),[v,b]),b?"string"==typeof v&&v?(0,f.jsx)(c.y1,m(m({src:v,ref:a},x),{},{style:m({height:"100%"},(null==x?void 0:x.style)&&x.style)})):(0,f.jsx)(d.a,{type:"spinner",size:"lg"}):y?(0,f.jsx)(l.J5,m(m({src:y||"",ref:a},x),{},{style:m({height:r?"100%":""},(null==x?void 0:x.style)&&x.style)})):(0,f.jsx)(d.a,{type:"spinner",size:"lg"})}},56408:function(e,t,n){"use strict";n.d(t,{H:function(){return f}});var r=n(83849),o=n.n(r),i=(n(29901),n(24161)),a=n(95610),s=n(92971),c=n(13645),l=n(74536),u=n(61250),d="https://creator.lottiefiles.com",f=function(e){var t=e.canCreateAnimations,n=void 0!==t&&t,r=e.canCreateFolder,f=void 0!==r&&r,p=e.canUpload,v=void 0!==p&&p,m=e.description,x=e.layout,h=void 0===x?"vertical":x,y=e.title,j=e.view,b=void 0===j?"dashboard":j,w=(0,i.useSetRecoilState)(s._b),g=(0,i.useSetRecoilState)(a.rU),k=300;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:o()({"flex items-center justify-center":!0,"flex-col":"vertical"===h,"flex-row":"horizontal"===h}),children:["dashboard"===b&&(0,u.jsx)(c.V,{autoplay:!0,loop:!0,src:"/lotties/empty-dashboard.json",style:{width:"".concat(k,"px")}}),"empty-project"===b&&(0,u.jsx)(c.V,{autoplay:!0,loop:!0,src:"/lotties/empty-project.json",style:{width:"".concat(k,"px")}}),"empty-shared-with-me"===b&&(0,u.jsx)(c.V,{autoplay:!0,loop:!0,src:"/lotties/empty-pour-bottle.json",style:{width:"".concat(k,"px")}}),"empty-project-folders"===b&&(0,u.jsx)(c.V,{autoplay:!0,loop:!0,src:"/lotties/empty-3-mugs.json",style:{width:"".concat(k,"px")}}),"no-results"===b&&(0,u.jsx)(c.V,{autoplay:!0,loop:!0,src:"/lotties/search.json",style:{width:"".concat(k,"px")}}),"empty-collection"===b&&(0,u.jsx)(c.V,{autoplay:!0,loop:!0,src:"/lotties/empty-collection.json",style:{width:"".concat(k,"px")}}),(0,u.jsxs)("div",{className:o()({"flex flex-col text-gray-900":!0,"mt-6 items-center space-y-2":"vertical"===h,"ml-8":"horizontal"===h}),children:[(0,u.jsx)("div",{className:"text-2xl font-lf-bold",children:y}),(0,u.jsx)("div",{className:"max-w-sm text-sm md:text-center",children:m}),v&&(0,u.jsx)("div",{children:(0,u.jsxs)("button",{type:"button",onClick:function(){return w(!0)},className:"inline-flex items-center h-8 px-3 py-0 mt-4 space-x-1 text-sm leading-8 lf-btn primary font-lf-regular",children:[(0,u.jsx)(l.J,{name:"plus"}),(0,u.jsx)("span",{children:"Upload animations"})]})}),f&&(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"button",onClick:function(){return g(!0)},className:"inline-flex items-center h-8 px-3 py-0 mt-4 space-x-1 text-sm leading-8 lf-btn primary font-lf-regular",children:(0,u.jsx)("span",{children:"Create Folder"})})}),n&&(0,u.jsx)("div",{children:(0,u.jsx)("a",{className:"inline-flex items-center h-10 px-4 py-0 mt-4 space-x-1 text-base leading-5 align-middle lf-btn primary",href:d,target:"_blank",rel:"noreferrer",children:"Create animation"})})]})]})})}},75443:function(e,t,n){"use strict";var r=n(29901),o=n(96312);t.Z=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],i=function(e){(e.metaKey&&o.Mq||e.ctrlKey&&!o.Mq)&&n(!0)},a=function(e){(!e.metaKey&&o.Mq||!e.ctrlKey&&!o.Mq)&&n(!1)};return(0,r.useEffect)((function(){return document.addEventListener("keydown",i),document.addEventListener("keyup",a),function(){document.removeEventListener("keydown",i),document.removeEventListener("keyup",a)}}),[]),t}},3284:function(e,t,n){"use strict";var r=n(29901);t.Z=function(e){var t=e.onPress,n=e.onRelease,o=e.dependencies,i=void 0===o?[]:o,a=e.takesPrecedence;(0,r.useEffect)((function(){var e=function(e){var n=document.activeElement;n&&n.isContentEditable||n&&"button"===n.tagName.toLowerCase()&&!a||"Shift"===e.key&&(e.preventDefault(),t())},r=function(e){var t=document.activeElement;t&&t.isContentEditable||t&&"button"===t.tagName.toLowerCase()&&!a||"Shift"===e.key&&(e.preventDefault(),n())};return window.addEventListener("keydown",e),window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keydown",r)}}),i)}},89654:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var r=n(69452),o=n(89303),i=n(55312),a=n(24642),s=n.n(a),c=n(59715),l=n(26766),u=n(62295),d=n(4611),f=n(73378),p=n(17172),v=n(29901),m=n(24161),x=n(389),h=n(90718),y=n(92814),j=n(97452),b=n(56408),w=n(25067),g=n(65815),k=n(75443),C=n(40355),O=n(11706),S=n(87923),E=n(3284),I=n(40729),N=n(51638),P=n(71461),L=n(30525),A=n(81662),R=n(95610),_=n(92971),F=n(41103),D=n(36142),T=n(79321),M=n(96312),Z=n(36199),V=n(61250),W=(0,f.default)((0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(5471),n.e(9837),n.e(9822)]).then(n.bind(n,59822)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[59822]},modules:["project/[id].tsx -> @/components/features/download/select-zip-variation-modal-with-feature-service"]}}),U=(0,f.default)((0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(5471),n.e(9837),n.e(5032),n.e(9434),n.e(2113),n.e(3544),n.e(7362),n.e(6953)]).then(n.bind(n,96914)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[96914]},modules:["project/[id].tsx -> @/components/ui/headers/project-header"]}}),G=(0,f.default)((0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(3907),n.e(9465),n.e(6877)]).then(n.bind(n,96961)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[96961]},modules:["project/[id].tsx -> @/components/ui/selection-bar"]}}),H=(0,f.default)((0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(467),n.e(837),n.e(7591),n.e(297),n.e(1847)]).then(n.bind(n,51855)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[51855]},modules:["project/[id].tsx -> @/components/ui/views/grid-view"]}}),q=(0,f.default)((0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(4845),n.e(5471),n.e(9837),n.e(467),n.e(4868),n.e(1438),n.e(6660),n.e(3907),n.e(9663),n.e(2113),n.e(7971),n.e(4430),n.e(9465),n.e(6101),n.e(9380),n.e(8025),n.e(6242),n.e(7837)]).then(n.bind(n,9226)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[9226]},modules:["project/[id].tsx -> @/components/ui/views/list-view"]}});function J(){var e,t,n,a,f,J,B,Y,K,z,Q,X=(0,d.useRouter)(),$=X.query,ee=$.id,te=$.sort,ne=$.status,re=$.type,oe=(0,w.p)(),ie=(0,m.useSetRecoilState)(R.qx),ae=(0,v.useState)(!1),se=ae[0],ce=ae[1],le=(0,m.useSetRecoilState)(_.QJ),ue=(0,v.useState)([]),de=ue[0],fe=ue[1],pe=(0,m.useSetRecoilState)(L.Y),ve=de.length>0,me=X.query.from,xe=(0,v.useState)(!1),he=xe[0],ye=xe[1],je=(0,v.useState)(null),be=je[0],we=je[1],ge=(0,v.useState)(!1),ke=ge[0],Ce=ge[1],Oe=(0,m.useRecoilValue)(F.Ol),Se=(0,c.SS)(u.AD.FILE_UPLOAD_LIMIT),Ee=(0,v.useState)(null),Ie=Ee[0],Ne=Ee[1],Pe=(0,v.useState)(!1),Le=Pe[0],Ae=Pe[1],Re=(0,v.useState)(null),_e=Re[0],Fe=Re[1],De=(0,v.useState)(null),Te=De[0],Me=De[1],Ze=(0,v.useState)(!1),Ve=Ze[0],We=Ze[1];(0,E.Z)({onPress:function(){Ae(!0)},onRelease:function(){Ae(!1)}});var Ue=(0,x.m8)(),Ge=(0,x.aM)({query:P.ig,variables:{id:ee,orderBy:te||JSON.stringify({isFolder:"DESC",updatedAt:"DESC"}),status:ne,type:re,first:24},pause:!ee}),He=(0,o.Z)(Ge,1)[0],qe=(0,N.hp)(null===(e=He.data)||void 0===e||null===(t=e.project)||void 0===t?void 0:t.workspaceId),Je=(0,v.useMemo)((function(){return(0,M.fK)(qe)}),[qe]),Be=(0,v.useState)(null),Ye=Be[0],Ke=Be[1],ze=(0,v.useState)(!1),Qe=ze[0],Xe=ze[1],$e=Se.on&&Je===D.Q.FREE,et=null===(n=He.data)||void 0===n||null===(a=n.projectFiles)||void 0===a?void 0:a.edges.map((function(e){return e.node}));(0,v.useEffect)((function(){He.fetching?ie(!0):(ie(!1),He.error?X.push("/"):He.data&&He.data.projectFiles&&He.data.project&&(He.data.project.isSystem||le({name:He.data.project.title,isPrivate:Boolean(He.data.project.isPrivate),projectTitle:He.data.project.title,type:"project",workspaceId:He.data.project.workspaceId,projectId:He.data.project.id}),(0,l.Z9)(new l.RG({projectId:He.data.project.id,projectName:He.data.project.title,workspaceId:He.data.project.workspaceId})),ie(!1),ye(He.data.projectFiles.pageInfo.hasNextPage),we(He.data.projectFiles.pageInfo.endCursor)))}),[He,X,ie,le]);var tt=(0,v.useCallback)((function(e){Fe(Z.RT.LOADED);var t=de,n=t.map((function(e){return e.id})).indexOf(e);if(et){var o=et.find((function(t){return t.id===e}));if(!o)return;var i=et.indexOf(o);if(Le)if(null===Ie)t.push(o);else{var a=(0,Z.Jm)(Ie,i,et);n>-1?(0,Z.wh)(t,a):(0,Z.AW)(t,a)}else n>-1?t.splice(n,1):t.push(o);Ne(i)}fe((0,r.Z)(t)),pe(t.length)}),[de,et,pe,Ie,Le]),nt=(0,v.useCallback)((function(){Fe(null),pe(0),fe([]),Ne(null),We(!1)}),[pe]),rt=(0,v.useCallback)((function(){Oe?null==oe||oe.pushError(y.Vv):(Ke(null),Ce(!0))}),[Oe,oe]),ot=(0,v.useCallback)((function(){Oe?null==oe||oe.pushError(y.Vv):(Xe(!0),Ce(!0))}),[Oe,oe]),it=(0,v.useCallback)((function(){Ce(!1),Ke(null),Xe(!1)}),[]),at=(0,v.useCallback)((function(e,t){Oe?null==oe||oe.pushError(y.Vv):(Xe(!1),Ke({id:e,name:t}),Ce(!0))}),[Oe,oe]),st=(0,v.useMemo)((function(){return Ye?1:Qe||_e===Z.RT.EVERYTHING?(null===(e=He.data)||void 0===e?void 0:e.projectFiles.totalCount)||0:de.length;var e}),[Ye,_e,de,Qe,He]),ct=(0,S.t)(),lt=(0,v.useCallback)(function(){var e=(0,i.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ye?[{id:Ye.id,type:"FOLDER"}]:Qe||_e===Z.RT.EVERYTHING?[{id:ee,type:"PROJECT"}]:de.map((function(e){return{id:e.id,type:(0,T.qR)(e)?"FOLDER":"FILE"}})),Xe(!1),Ke(null),Ce(!1),nt(),e.next=7,ct({entries:o,numberOfEntries:st,projectId:ee,projectName:null===(n=He.data)||void 0===n||null===(r=n.project)||void 0===r?void 0:r.title,folderId:null==Ye?void 0:Ye.id,folderName:null==Ye?void 0:Ye.name,variant:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ye,null===(f=He.data)||void 0===f||null===(J=f.project)||void 0===J?void 0:J.title,ee,de,_e,nt,ct,st,Qe]),ut=(0,C._)("project-view","grid"),dt=(0,o.Z)(ut,2),ft=dt[0],pt=dt[1],vt=(0,v.useCallback)((function(){pt("grid"===ft?"list":"grid")}),[ft,pt]),mt=(0,m.useRecoilValue)(A.h),xt=(0,v.useCallback)((function(){nt(),null==oe||oe.pushSuccess("".concat(de.length>1?"Assets were":"Asset was"," successfully transferred to ").concat(null==mt?void 0:mt.name,"."))}),[nt,de.length,null==mt?void 0:mt.name,oe]),ht=(0,v.useCallback)((function(e){var t,n,o=de,i=null===(t=He.data)||void 0===t||null===(n=t.projectFiles)||void 0===n?void 0:n.edges.map((function(e){return e.node}));e?((0,Z.AW)(o,i||[]),Fe(Z.RT.LOADED),We(!0)):((0,Z.wh)(o,i||[]),Fe(null),We(!1)),fe((0,r.Z)(o))}),[He,de]),yt=(0,v.useCallback)((0,i.Z)(s().mark((function e(){var t,n,r,o,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>0&&void 0!==i[0]&&i[0],et&&0!==(null==et?void 0:et.length)){e.next=3;break}return e.abrupt("return");case 3:return r=n&&He.data?(null===(t=He.data)||void 0===t?void 0:t.projectFiles.totalCount)-(null==et?void 0:et.length):24,o=$e?Math.min(12,Math.abs(Se.value-(null==et?void 0:et.length))):r,e.prev=5,ce(!0),e.next=9,Ue.query(P.f3,{id:ee,status:ne,type:re,orderBy:te||JSON.stringify({isFolder:"DESC",updatedAt:"DESC"}),after:be,first:o}).toPromise();case 9:return e.prev=9,ce(!1),nt(),e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[5,,9,13]])}))),[et,He.data,$e,Se.value,Ue,ee,ne,re,te,be,nt]),jt=(0,v.useCallback)((function(){He.data&&!He.fetching&&!se&&he&&be&&yt()}),[be,yt,He.data,He.fetching,he,se]);(0,v.useEffect)((function(){nt()}),[X.asPath,nt]);var bt="https://creator.lottiefiles.com",wt=(0,k.Z)(),gt=(0,v.useCallback)((function(e){var t,n,r="shared-with-me"===me;(((0,T.QR)(e)||(0,T.xK)(e))&&(t=e.fileObject.filename.split(".").pop()),"creator"===t)?window.open("".concat(bt,"?fileId=").concat(e.id),"_blank"):(n=(0,T.qR)(e)?"/folder/".concat(e.id):"/animation/".concat(e.id),te&&(n+="?sort=".concat(encodeURIComponent(te.toString()))),r&&(n+="".concat(te?"&":"?","from=shared-with-me")),wt?window.open(n,"_blank"):X.push(n))}),[me,bt,te,wt,X]),kt=(null===(B=He.data)||void 0===B?void 0:B.project)||null,Ct=(0,v.useCallback)((0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!et){e.next=6;break}return e.next=3,Ue.query(P.A0,{id:ee}).toPromise();case 3:(t=e.sent).data&&Me(t.data.project.stats),fe((0,r.Z)(et));case 6:Fe(Z.RT.EVERYTHING);case 7:case"end":return e.stop()}}),e)}))),[Ue,ee,et]),Ot=de.length&&(null==et?void 0:et.some((function(e){return-1===de.findIndex((function(t){return t.id===e.id}))})))||!1,St=(0,O.k)(),Et=St.start,It=St.stop;return(0,v.useEffect)((function(){return Et([g.aF]),function(){It(g.aF.id)}}),[kt]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(p.default,{children:(0,V.jsx)("title",{children:"LottieFiles Platform"})}),(0,V.jsxs)(I.s,{features:null==kt?void 0:kt.features,children:[(0,V.jsx)(j.o,{headerWrapperCssClasses:"flex items-center px-6 flex-shrink-0 pt-6 pb-4",contentWrapperCssClasses:"flex-grow p-6 pt-0",headerControl:(0,V.jsx)(U,{selectedCount:de.length,loadedCount:(null==et?void 0:et.length)||0,showFilters:0!==(null==et?void 0:et.length)||(Boolean(ne)||Boolean(re)),totalCount:(null===(Y=He.data)||void 0===Y?void 0:Y.projectFiles.totalCount)||0,onSelectAll:ht,selectionIsIndeterminate:Ot,isSelectionMode:ve,toggleProjectView:vt,projectView:ft,project:kt,fromSharedWithMe:"shared-with-me"===me,selectionType:_e,onSelectEverything:Ct,clearSelection:nt,showSelectionBanner:Ve,onDownloadAllClick:ot}),children:(0,V.jsx)("div",{className:"space-y-3",children:kt&&(0,V.jsxs)(V.Fragment,{children:[et&&et.length>0?(0,V.jsx)("div",{className:"space-y-4",children:"list"===ft?(0,V.jsx)(q,{id:"project-list",files:et,selectionMode:ve,onSelectionChange:tt,selectedAnimations:de,selectable:!0,canLoadMore:he,onLoadMore:jt,isLoadingMore:se,onFolderDownloadAllClick:at,onItemClick:gt,workspaceId:kt.workspaceId}):(0,V.jsx)(H,{files:et,selectionMode:ve,onSelectionChange:tt,selectedAnimations:de,selectable:!0,onLoadMore:jt,canLoadMore:he,isLoadingMore:se,showAddToCollection:!0,onFolderDownloadAllClick:at,onItemClick:gt,workspaceId:kt.workspaceId})}):(0,V.jsxs)(V.Fragment,{children:[!ne&&"folders"===re&&(0,V.jsx)(b.H,{title:"Create folders for your animations",description:"Sort your animations into folders to stay organized.",view:"empty-project-folders",canCreateFolder:!0}),!ne&&"folders"!==re&&!kt.isSystem&&(null===(K=kt.projectPermissionScopes)||void 0===K?void 0:K.includes("full_access"))&&(0,V.jsx)("div",{className:"pt-2",children:(0,V.jsx)(h.default,{projectId:kt.id})}),!ne&&"folders"!==re&&!kt.isSystem&&!(null!==(z=kt.projectPermissionScopes)&&void 0!==z&&z.includes("full_access"))&&(0,V.jsx)(b.H,{title:"Animation added will appear here",description:"You can only view this project. Ask for full access to add animations.",view:"empty-project"}),!ne&&"folders"!==re&&kt.isSystem&&"Drafts"===kt.title&&(0,V.jsx)(b.H,{title:"Your draft Creator files will appear here",description:"Creator files created in this workspace will be automatically saved here as drafts once theyâ€™ve been edited.",view:"empty-project",canCreateAnimations:!0}),ne&&(0,V.jsx)(b.H,{title:"No result found",description:"We couldn't find any item based on your filter.",view:"no-results"})]}),ve?(0,V.jsx)(G,{type:"project",resourceId:kt.id,workspaceId:kt.workspace.id,selectedAnimations:de,isPrivate:kt.isPrivate,clear:nt,onDownload:rt,onTransferComplete:xt,totalCount:(null===(Q=He.data)||void 0===Q?void 0:Q.projectFiles.totalCount)||0,contentStats:Te,isEverythingSelected:_e===Z.RT.EVERYTHING}):null]})})}),ke&&(0,V.jsx)(W,{show:ke,numberOfEntries:st,onClose:it,onSelect:lt,workspaceId:null==kt?void 0:kt.workspaceId})]})]})}},40729:function(e,t,n){"use strict";n.d(t,{s:function(){return s},w:function(){return c}});var r=n(62295),o=n(29901),i=n(61250),a=o.createContext({features:[]}),s=function(e){var t=e.children,n=e.features;return(0,i.jsx)(a.Provider,{value:{features:n},children:t})},c=function(){var e=o.useContext(a).features;return e?new r.UZ(e):new r.UZ([])}},30525:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var r=(0,n(24161).atom)({key:"selectedAnimationsCount",default:0})},90768:function(e,t,n){"use strict";n.d(t,{h:function(){return o},e:function(){return i}});var r=n(24161),o=(0,r.atom)({key:"transferSelectionAtom",default:null}),i=(0,r.atom)({key:"createNewFolder",default:!1})},81662:function(e,t,n){"use strict";n.d(t,{e:function(){return r.e},h:function(){return r.h}});var r=n(90768)},95610:function(e,t,n){"use strict";n.d(t,{E4:function(){return r.E4},rU:function(){return r.rU},qx:function(){return r.qx},NY:function(){return r.NY}});var r=n(97527);n(19664)},79321:function(e,t,n){"use strict";var r,o,i,a,s,c;n.d(t,{GN:function(){return r},Nn:function(){return o},hF:function(){return i},nT:function(){return s},ws:function(){return c},QR:function(){return u},xK:function(){return d},qR:function(){return f}}),function(e){e.DOWNLOAD="download",e.FULL_ACCESS="full_access",e.PUBLIC_DOWNLOAD="public_download",e.PUBLIC_VIEW="public_view",e.VIEW="view"}(r||(r={})),function(e){e.Loop="Loop",e.PlayOnce="PlayOnce"}(o||(o={})),function(e){e.DotLottie="lottie",e.Gif="gif",e.LottieJson="json",e.Mp4="mp4"}(i||(i={})),function(e){e.DOWNLOAD="download",e.FULL_ACCESS="full_access",e.PUBLIC_DOWNLOAD="public_download",e.PUBLIC_VIEW="public_view",e.VIEW="view"}(a||(a={})),function(e){e.Approved="Approved",e.InProgress="InProgress",e.NeedsReview="NeedsReview",e.Shipped="Shipped"}(s||(s={})),function(e){e.Completed="Completed",e.Failed="Failed",e.InProgress="InProgress",e.Pending="Pending"}(c||(c={}));var l=function(e){return e.split(".").pop()};function u(e){if(!e.fileObject)return!1;var t=e.fileObject.filename,n=l(t);return void 0!==n&&["lottie","json"].includes(n)}function d(e){if(!e.fileObject)return!1;var t=e.fileObject.filename,n=l(t);return void 0!==n&&"creator"===n}function f(e){return e&&"Folder"===e.__typename}},36199:function(e,t,n){"use strict";var r;function o(e,t,n){var r=Math.min(e,t),o=Math.max(e+1,t+1);return n.splice(r,o-r)}function i(e,t){t.forEach((function(t){var n=e.findIndex((function(e){return e.id===t.id}));n>-1&&e.splice(n,1)}))}function a(e,t){t.forEach((function(t){-1===e.findIndex((function(e){return e.id===t.id}))&&e.push(t)}))}n.d(t,{RT:function(){return r},Jm:function(){return o},wh:function(){return i},AW:function(){return a}}),function(e){e.EVERYTHING="everything",e.LOADED="loaded"}(r||(r={}))},83428:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[id]",function(){return n(89654)}])},17172:function(e,t,n){e.exports=n(17158)},83907:function(e,t,n){e=n.nmd(e),function(n,r){"use strict";var o={};n.PubSub?(o=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=o,function(e){var t={},n=-1,r="*";function o(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function i(e){return function(){throw e}}function a(e,t,n){try{e(t,n)}catch(e){setTimeout(i(e),0)}}function s(e,t,n){e(t,n)}function c(e,n,r,o){var i,c=t[n],l=o?s:a;if(Object.prototype.hasOwnProperty.call(t,n))for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&l(c[i],e,r)}function l(e,t,n){return function(){var o=String(e),i=o.lastIndexOf(".");for(c(e,e,t,n);-1!==i;)i=(o=o.substr(0,i)).lastIndexOf("."),c(e,o,t,n);c(e,r,t,n)}}function u(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&o(t[n]))}function d(e){for(var t=String(e),n=u(t)||u(r),o=t.lastIndexOf(".");!n&&-1!==o;)o=(t=t.substr(0,o)).lastIndexOf("."),n=u(t);return n}function f(e,t,n,r){var o=l(e="symbol"==typeof e?e.toString():e,t,r);return!!d(e)&&(!0===n?o():setTimeout(o,0),!0)}e.publish=function(t,n){return f(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return f(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=r,o},e.subscribeAll=function(t){return e.subscribe(r,t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r,o=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(r in t[n])o++;break}return o},e.getSubscriptions=function(e){var n,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,o,i,a=function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1},s="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||a(n)),c=!s&&"string"==typeof n,l="function"==typeof n,u=!1;if(!s){for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(o=t[r],c&&o[n]){delete o[n],u=n;break}if(l)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&o[i]===n&&(delete o[i],u=!0)}return u}e.clearSubscriptions(n)}}(o)),void 0!==e&&e.exports&&(t=e.exports=o),t.PubSub=o,e.exports=t=o}("object"==typeof window&&window||this)}},function(e){e.O(0,[6627,726,5313,785,532,8361,3069,9774,2888,179],(function(){return t=83428,e(e.s=t);var t}));var t=e.O();_N_E=t}]);